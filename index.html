<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feditreff-Karte</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="assets/css/index.css">
</head>
<body>
    <div id="map"></div>
    
    <!-- Navigation -->
    <nav aria-label="Hauptnavigation">
        <button id="aboutBtn">Über</button>
        <button id="addMeetupBtn">Meetup vorschlagen</button>
        <a href="https://norden.social/about">Impressum</a>
    </nav>
    
    <!-- About Dialog -->
    <dialog id="aboutDialog">
        <h2>Über Feditreff</h2>
        <p>Feditreff ist eine interaktive Karte, die regionale Meetups der Fediverse-Community zeigt. Verantwortlich für die Idee ist <a href="https://norden.social/@barning">@barning</a></p>
        <p>Jeder Marker auf der Karte verlinkt direkt zum Mastodon-Feed des jeweiligen Hashtags, sodass du ganz einfach mit lokalen Communities in Kontakt treten kannst.</p>
        <p>Das Projekt verbindet Menschen, die sich für dezentralisierte soziale Netzwerke interessieren, und macht es einfacher, andere Enthusiasten in deiner Region zu finden.</p>
        <button id="closeDialog">Schließen</button>
    </dialog>
    
    <!-- Submit Dialog -->
    <dialog id="submitDialog">
        <h2>Neues Fediverse-Treffen vorschlagen</h2>
        <p class="lead">Hashtag, Ort und (optional) Titel/Beschreibung eintragen. Die Koordinaten werden automatisch ermittelt und die Daten in ein vorgefülltes GitHub-Issue übernommen.</p>
        <form id="meetupForm" novalidate>
            <label for="title">Titel (optional)</label>
            <input id="title" name="title" type="text" placeholder="Neues Treffen: Berlin">

            <label for="hashtag">Hashtag *</label>
            <input id="hashtag" name="hashtag" type="text" placeholder="#feditreffberlin" required aria-required="true" pattern="^#.+">
            <p class="hint">Beispiel: #feditreffberlin — beginnt mit #</p>

            <label for="ort">Ort *</label>
            <input id="ort" name="ort" type="text" placeholder="Berlin oder Hamburg, Café Central" required aria-required="true">
            <p class="hint">Gib einfach den Ort ein (z. B. "Berlin" oder "Hamburg, Café Central"). Die Koordinaten werden automatisch ermittelt.</p>

            <label for="beschreibung">Beschreibung (optional)</label>
            <textarea id="beschreibung" name="beschreibung" placeholder="Monatliches Treffen jeden 1. Donnerstag"></textarea>

            <div id="status" class="status" role="status" aria-live="polite"></div>

            <label for="previewMap">Kartenvorschau</label>
            <div id="previewMap" aria-label="Kartenansicht der gefundenen Adresse"></div>
        </form>
        <div class="dialog-footer">
            <button type="button" class="secondary" id="closeSubmit">Schließen</button>
            <button type="button" class="secondary" id="copyBtn">Daten kopieren</button>
            <button type="submit" form="meetupForm" class="primary" id="submitBtn">GitHub-Issue öffnen</button>
        </div>
    </dialog>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="assets/js/index.js" defer></script>
</body>
</html>
